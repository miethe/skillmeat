# SkillMeat Production Environment Configuration
# This file contains environment variables for the production deployment
# DO NOT commit real secrets to this file - use placeholders and override at runtime
# For production, use secrets management (e.g., HashiCorp Vault, AWS Secrets Manager)

# ===================================================================
# ENVIRONMENT
# ===================================================================
SKILLMEAT_ENV=production

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
SKILLMEAT_HOST=0.0.0.0
SKILLMEAT_PORT=8080
SKILLMEAT_WORKERS=4
SKILLMEAT_RELOAD=false

# ===================================================================
# API CONFIGURATION
# ===================================================================
SKILLMEAT_API_VERSION=v1
SKILLMEAT_API_TITLE=SkillMeat API
SKILLMEAT_API_DESCRIPTION=REST API for SkillMeat collection manager - Production

# ===================================================================
# CORS CONFIGURATION
# ===================================================================
SKILLMEAT_CORS_ENABLED=true
# Production domain only - no localhost origins
SKILLMEAT_CORS_ORIGINS=["https://skillmeat.example.com"]
SKILLMEAT_CORS_ALLOW_CREDENTIALS=true
SKILLMEAT_CORS_ALLOW_METHODS=["GET","POST","PUT","PATCH","DELETE","OPTIONS"]
SKILLMEAT_CORS_ALLOW_HEADERS=["Authorization","Content-Type","X-Request-ID"]

# ===================================================================
# LOGGING CONFIGURATION
# ===================================================================
SKILLMEAT_LOG_LEVEL=WARNING
SKILLMEAT_LOG_FORMAT=json

# ===================================================================
# COLLECTION CONFIGURATION
# ===================================================================
# Override default collection directory if needed
# SKILLMEAT_COLLECTION_DIR=/data/skillmeat/collections

# ===================================================================
# SECURITY
# ===================================================================
# API Key Authentication (required in production)
SKILLMEAT_API_KEY_ENABLED=true
# SKILLMEAT_API_KEY=<REPLACE_WITH_SECURE_KEY_FROM_SECRETS_MANAGER>

# Bearer Token Authentication
SKILLMEAT_AUTH_ENABLED=true

# ===================================================================
# RATE LIMITING
# ===================================================================
SKILLMEAT_RATE_LIMIT_ENABLED=true
SKILLMEAT_RATE_LIMIT_REQUESTS=60

# ===================================================================
# DISCOVERY FEATURE FLAGS
# ===================================================================
SKILLMEAT_ENABLE_AUTO_DISCOVERY=true
SKILLMEAT_ENABLE_AUTO_POPULATION=true
SKILLMEAT_DISCOVERY_CACHE_TTL=3600

# GitHub API Token (for higher rate limits - 5000/hr vs 60/hr)
# SKILLMEAT_GITHUB_TOKEN=<REPLACE_WITH_GITHUB_PAT_FROM_SECRETS_MANAGER>

# ===================================================================
# MEMORY & CONTEXT INTELLIGENCE SYSTEM
# ===================================================================
# Memory & Context Intelligence System - ENABLED
SKILLMEAT_MEMORY_CONTEXT_ENABLED=true
SKILLMEAT_MEMORY_AUTO_EXTRACT=false

# ===================================================================
# OBSERVABILITY
# ===================================================================
# Prometheus metrics endpoint enabled by default at /metrics
# Grafana dashboard available at http://grafana:3000
# Production alerting routed via Alertmanager

# ===================================================================
# DATABASE
# ===================================================================
# SQLite database path (default: ~/.skillmeat/cache/skillmeat.db)
# For production, use a persistent volume with regular backups

# ===================================================================
# EXTERNAL SERVICES
# ===================================================================
# Add any external service URLs here (e.g., monitoring, alerting)
# PROMETHEUS_URL=http://prometheus:9090
# GRAFANA_URL=http://grafana:3000
# ALERTMANAGER_URL=http://alertmanager:9093

# ===================================================================
# NOTIFICATION HOOKS (for deployment alerts)
# ===================================================================
# SKILLMEAT_SLACK_WEBHOOK_URL=<REPLACE_WITH_SLACK_WEBHOOK>
# SKILLMEAT_ALERT_EMAIL=<REPLACE_WITH_OPS_EMAIL>

# ===================================================================
# NOTES
# ===================================================================
# - Replace all <REPLACE_WITH_*> placeholders with actual values via secrets manager
# - Keep this file in source control with placeholders only
# - NEVER commit real secrets, tokens, or API keys to this file
# - Use environment-specific overrides for sensitive values
# - Memory & Context system is ENABLED -- see rollout-plan.md for rollback if needed
