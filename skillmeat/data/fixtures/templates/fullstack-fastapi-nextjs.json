{
  "template": {
    "name": "FastAPI + Next.js Full-Stack",
    "description": "Complete full-stack project with FastAPI backend and Next.js frontend, following delegated architecture patterns with Opus orchestration and specialized subagents",
    "collection_type": "context",
    "version": "1.0.0",
    "category": "web-application"
  },
  "entities": [
    {
      "name": "CLAUDE.md",
      "type": "PROJECT_CONFIG",
      "path_pattern": "CLAUDE.md",
      "deploy_order": 1,
      "required": true,
      "content": "# {{PROJECT_NAME}}\n\n{{PROJECT_DESCRIPTION}}\n\n## Prime Directives\n\n| Directive | Implementation |\n|-----------|----------------|\n| **Delegate everything** | Opus reasons & orchestrates; subagents implement |\n| Token efficient | Symbol system, codebase-explorer |\n| Rapid iteration | PRD → code → deploy fast |\n| No over-architecture | YAGNI until proven |\n\n### Opus Delegation Principle\n\n**You are Opus. Tokens are expensive. You orchestrate; subagents execute.**\n\n- ✗ **Never** write code directly (Read/Edit/Write for implementation)\n- ✗ **Never** do token-heavy exploration yourself\n- ✗ **Never** read full implementation files before delegating\n- ✓ **Always** delegate implementation to specialized subagents\n- ✓ **Always** use codebase-explorer for pattern discovery\n- ✓ **Focus** on reasoning, analysis, planning, and orchestration\n\n**Delegation Pattern**:\n\n```text\n1. Analyze task → identify what needs to change\n2. Delegate exploration → codebase-explorer finds files/patterns\n3. Read progress YAML → get assigned_to and batch strategy\n4. Delegate implementation → use Task() from Orchestration Quick Reference\n5. Update progress → artifact-tracker marks tasks complete\n6. Commit → only direct action Opus takes\n```\n\n## Documentation Policy\n\n**Reference**: `.claude/specs/doc-policy-spec.md`\n\n**Allowed**:\n- `/docs/` → User/dev/architecture docs (with frontmatter)\n- `.claude/progress/[prd]/` → ONE per phase (YAML+Markdown hybrid)\n- `.claude/worknotes/[prd]/` → ONE context.md per PRD (agent worknotes)\n- `.claude/worknotes/fixes/` → ONE per month\n- `.claude/worknotes/observations/` → ONE per month\n\n## Architecture Overview\n\n```\n{{ARCHITECTURE_DESCRIPTION}}\n├── api/                   # FastAPI backend\n│   ├── routers/          # HTTP endpoints\n│   ├── schemas/          # Pydantic models\n│   ├── managers/         # Business logic\n│   └── models/           # Database models\n├── web/                   # Next.js frontend\n│   ├── app/              # App router pages\n│   ├── components/       # React components\n│   ├── hooks/            # Custom hooks\n│   └── lib/              # Utilities & API client\n└── .claude/               # Project context\n    ├── specs/            # Specifications\n    ├── rules/            # Code patterns\n    ├── context/          # Reference docs\n    └── progress/         # Phase tracking\n```\n\n## Agent Delegation\n\n**Mandatory**: All implementation work MUST be delegated.\n\n### Implementation Agents\n\n| Task | Agent | Model | Use When |\n|------|-------|-------|----------|\n| Backend Python | python-backend-engineer | Sonnet | FastAPI, SQLAlchemy, Alembic |\n| Frontend React | ui-engineer | Sonnet | Components, hooks, pages |\n| Full-stack TS | backend-typescript-architect | Sonnet | Node/TS backend |\n| Most docs (90%) | documentation-writer | Haiku | READMEs, API docs, guides |\n\n### Exploration Agents\n\n| Task | Agent | Model | Use When |\n|------|-------|-------|----------|\n| Find files/patterns | codebase-explorer | Haiku | Quick discovery |\n| Deep analysis | explore | Haiku | Full context needed |\n| Progress tracking | artifact-tracker | Haiku | Create/update progress |\n\n## Development Commands\n\n### Setup\n\n```bash\npip install -e \".[dev]\"          # Install in dev mode\nuv tool install --editable .     # Install with uv (recommended)\n```\n\n### Backend API\n\n```bash\nuv run skillmeat web dev --api-only      # Start API server\npytest -v --cov=skillmeat               # Run tests with coverage\nblack skillmeat && mypy skillmeat        # Format & type-check\n```\n\n### Frontend Web\n\n```bash\ncd skillmeat/web && pnpm dev            # Start Next.js dev\npnpm test                                # Run tests\npnpm build                               # Production build\n```\n\n### Combined\n\n```bash\nuv run skillmeat web dev                 # Start both API + Next.js\n```\n\n## Key Cross-Cutting Patterns\n\n### Version Compatibility (Python)\n\n```python\nimport sys\nif sys.version_info >= (3, 11):\n    import tomllib\nelse:\n    import tomli as tomllib\n```\n\n### Error Handling\n\n```python\n# CLI: Exit with sys.exit(1) on failure\n# API: Raise HTTPException with status code\n# Core: Raise domain-specific exceptions\n```\n\n## Domain-Specific Documentation\n\n**Backend/API**: See `.claude/rules/api/routers.md` for FastAPI patterns\n\n**Frontend/Web**: See `.claude/rules/web/hooks.md` for React patterns\n\n---\n\n**Author**: {{AUTHOR}}\n**Created**: {{DATE}}\n**Version**: 1.0.0\n"
    },
    {
      "name": "doc-policy-spec.md",
      "type": "SPEC_FILE",
      "path_pattern": ".claude/specs/doc-policy-spec.md",
      "deploy_order": 2,
      "required": true,
      "content": "# Documentation Policy Spec\n\n**Version**: 1.0 (Compressed)\n**Purpose**: Documentation rules and patterns\n**Token Target**: ~250 lines\n**Format**: Dense, structured, AI-optimized\n\n---\n\n## Core Principle\n\n**Create documentation ONLY when**:\n\n1. Explicitly tasked (PRD, plan, request)\n2. Absolutely necessary (essential info)\n3. Fits allowed bucket (see below)\n\n**Rule**: More docs ≠ better. When uncertain → don't create.\n\n---\n\n## Strictly Prohibited\n\n| ✗ Never Create | Why | Alternative |\n|----------------|-----|-------------|\n| Debugging summaries | Becomes outdated | Git commit message |\n| Multiple progress/phase | Creates sprawl | ONE per phase |\n| Unorganized context | Hard to find | Structured directories |\n| Ad-hoc observations | Fragmentation | Monthly log |\n| Session notes as docs | Temporary context | Keep in worknotes |\n| Daily/weekly reports | Documentation debt | Git commits + phase progress |\n\n---\n\n## Allowed Documentation Buckets\n\n### Required Buckets\n\n| Bucket | Purpose | Location | Format |\n|--------|---------|----------|--------|\n| **README (module)** | What this package does | `<module>/README.md` | Markdown |\n| **API Documentation** | Endpoint specs, schemas | `/docs/api/` | Markdown + code |\n| **Docstrings (public APIs)** | Function/class docs | In-code | Docstring format |\n| **Setup Guides** | Installation, config | `/docs/development/` | Markdown |\n\n### Optional Buckets\n\n| Bucket | Purpose | Location | When Use |\n|--------|---------|----------|----------|\n| **Architecture Docs** | System design | `/docs/architecture/` | Complex interactions |\n| **How-To Guides** | Task instructions | `/docs/guides/` | Common workflows |\n| **Troubleshooting** | Problem solving | `/docs/guides/troubleshooting.md` | Recurring issues |\n\n---\n\n## Tracking Documentation (Allowed)\n\n### Progress Files (One Per Phase)\n\n**Location**: `.claude/progress/[prd-name]/phase-[N]-progress.md`\n\n**YAML Frontmatter** (required):\n```yaml\ntasks:\n  - id: \"TASK-1.1\"\n    status: \"pending\"\n    assigned_to: [\"agent-name\"]\n    dependencies: []\n```\n\n**Markdown Section**: Task list + Orchestration Quick Reference\n\n### Context Files (One Per PRD)\n\n**Location**: `.claude/worknotes/[prd-name]/context.md`\n\n**Purpose**: Agent worknotes, decisions, blockers\n\n### Monthly Logs (One Per Month)\n\n**Bug Fixes**: `.claude/worknotes/fixes/bug-fixes-tracking-MM-YY.md`\n\n**Observations**: `.claude/worknotes/observations/observation-log-MM-YY.md`\n\n---\n\n## Frontmatter Requirements\n\nAll documentation in `/docs/` MUST include YAML frontmatter:\n\n```yaml\n---\ntitle: Page Title\ndescription: One-line description\naudience: developers | users | maintainers\ntags: [tag1, tag2]\ncreated: YYYY-MM-DD\nupdated: YYYY-MM-DD\ncategory: API | guides | architecture | setup\nstatus: active | deprecated | draft\nrelated:\n  - path/to/related-doc.md\n---\n```\n\n**Note**: Tracking docs in `.claude/` do NOT require frontmatter.\n\n---\n\n## Decision Tree\n\n```\nShould I write documentation?\n  ├─ Is it explicitly tasked? → YES → Create it\n  ├─ Is it essential info users/devs need? → YES → Create it\n  ├─ Does it fit an allowed bucket? → YES → Create it\n  └─ Will it become outdated? → YES → Don't create, use git commits instead\n```\n\n---\n\n**Version**: 1.0\n**Last Updated**: {{DATE}}\n"
    },
    {
      "name": "progressive-disclosure-spec.md",
      "type": "SPEC_FILE",
      "path_pattern": ".claude/specs/progressive-disclosure-spec.md",
      "deploy_order": 3,
      "required": false,
      "content": "# Progressive Disclosure Context Specification\n\n**Version**: 1.0\n**Purpose**: Intelligent context loading for token efficiency\n**Status**: Active\n\n---\n\n## Core Concept\n\nLoad context progressively based on file path patterns:\n\n1. **Universal** → Always loaded (rules, debugging)\n2. **Path-Specific** → Auto-loaded when editing matching files\n3. **Deep Context** → Load on-demand for specific tasks\n\n---\n\n## Auto-Load Rules\n\n### Universal (Always)\n\n```yaml\n- .claude/rules/debugging.md\n- CLAUDE.md\n- .claude/specs/doc-policy-spec.md\n```\n\n### Path-Specific (Auto-Load)\n\n| Path Pattern | Context File | Trigger |\n|--------------|--------------|----------|\n| `skillmeat/api/**/*.py` | `.claude/rules/api/routers.md` | Editing API code |\n| `skillmeat/api/**/*.py` | `.claude/rules/api/schemas.md` | Pydantic models |\n| `skillmeat/web/**/*.ts` | `.claude/rules/web/api-client.md` | Editing web API calls |\n| `skillmeat/web/**/*.ts` | `.claude/rules/web/hooks.md` | Custom React hooks |\n| `docs/**/*.md` | `.claude/specs/doc-policy-spec.md` | Writing documentation |\n\n### On-Demand (Load When Needed)\n\n```yaml\nAPI Development:\n  - .claude/context/api-endpoint-mapping.md\n  - .claude/context/backend-api-patterns.md\n\nFrontend Development:\n  - .claude/context/frontend-patterns.md\n  - .claude/context/stub-patterns.md\n\nDebugging:\n  - .claude/context/symbol-usage-guide.md\n  - .claude/rules/debugging.md\n```\n\n---\n\n## Token Efficiency\n\n| Strategy | Token Cost | When Use |\n|----------|-----------|----------|\n| Load everything | 50K | Baseline (don't do) |\n| Universal only | 5K | CLI updates |\n| Universal + path-specific | 10K | Implementation |\n| Targeted on-demand | 2-5K | Focused tasks |\n\n---\n\n**Created**: {{DATE}}\n**Last Verified**: {{DATE}}\n"
    },
    {
      "name": "routers.md",
      "type": "RULE_FILE",
      "path_pattern": ".claude/rules/api/routers.md",
      "deploy_order": 4,
      "required": false,
      "content": "# Router Layer Patterns\n\n<!-- Path Scope: skillmeat/api/routers/**/*.py -->\n\nFastAPI router layer patterns for request handling and response serialization.\n\n## Layer Contract\n\n✓ **Routers should**:\n- Define HTTP endpoints and route handlers\n- Parse requests (path/query params, request body)\n- Serialize responses (Pydantic models)\n- Call service/manager layer for business logic\n- Handle HTTP-specific concerns (status codes, headers)\n- Document endpoints (OpenAPI tags, descriptions)\n\n✗ **Routers must NOT**:\n- Access database directly (use service/manager layer)\n- Implement business logic (delegate to core/)\n- Validate complex domain rules (use service layer)\n- Handle file I/O directly (use managers)\n- Perform data transformations (use schemas/services)\n\n## Layered Architecture\n\n```\nrouters/ (HTTP layer)\n    ↓ calls\nmanagers/services (business logic)\n    ↓ calls\nrepositories (data access)\n    ↓ calls\ndatabase/filesystem\n```\n\n## Router Definition\n\n### Structure\n\n```python\nfrom fastapi import APIRouter\n\nrouter = APIRouter(\n    prefix=\"/resource-name\",\n    tags=[\"resource-name\"],\n)\n```\n\n### Registration\n\n**File**: `skillmeat/api/server.py`\n\n```python\napp.include_router(\n    collections.router,\n    prefix=settings.api_prefix,  # \"/api/v1\"\n    tags=[\"collections\"]\n)\n```\n\n## HTTP Methods & Status Codes\n\n```python\n# GET: Retrieve → 200 OK\n@router.get(\"/items\", response_model=ItemListResponse)\nasync def list_items(...) -> ItemListResponse:\n    return ItemListResponse(...)\n\n# POST: Create → 201 Created\n@router.post(\"/items\", response_model=ItemResponse, status_code=201)\nasync def create_item(...) -> ItemResponse:\n    return ItemResponse(...)\n\n# PUT: Update → 200 OK\n@router.put(\"/items/{id}\", response_model=ItemResponse)\nasync def update_item(...) -> ItemResponse:\n    return ItemResponse(...)\n\n# DELETE: Remove → 204 No Content\n@router.delete(\"/items/{id}\", status_code=204)\nasync def delete_item(...) -> None:\n    return None\n```\n\n## Error Handling\n\n```python\nfrom fastapi import HTTPException, status\n\n# 400 Bad Request\nraise HTTPException(\n    status_code=status.HTTP_400_BAD_REQUEST,\n    detail=\"Invalid input\"\n)\n\n# 404 Not Found\nraise HTTPException(\n    status_code=status.HTTP_404_NOT_FOUND,\n    detail=\"Resource not found\"\n)\n\n# 422 Unprocessable Entity\nraise HTTPException(\n    status_code=status.HTTP_422_UNPROCESSABLE_ENTITY,\n    detail=\"Validation failed\"\n)\n```\n\n## Dependency Injection\n\n```python\nfrom typing import Annotated\nfrom fastapi import Depends\nfrom sqlalchemy.orm import Session\n\nDbSessionDep = Annotated[Session, Depends(get_db_session)]\n\n@router.get(\"/items\")\nasync def list_items(session: DbSessionDep) -> ItemListResponse:\n    items = session.query(Item).all()\n    return ItemListResponse(items=items)\n```\n\n---\n\n**Path Scope**: `skillmeat/api/routers/**/*.py`\n"
    },
    {
      "name": "schemas.md",
      "type": "RULE_FILE",
      "path_pattern": ".claude/rules/api/schemas.md",
      "deploy_order": 5,
      "required": false,
      "content": "# Pydantic Schema Patterns\n\n<!-- Path Scope: skillmeat/api/schemas/**/*.py -->\n\nPydantic v2 schema definitions for FastAPI request/response validation.\n\n## Base Classes\n\n```python\nfrom pydantic import BaseModel, Field\n\nclass ItemBase(BaseModel):\n    \"\"\"Shared fields for Item.\"\"\"\n    name: str = Field(..., min_length=1, max_length=100)\n    description: Optional[str] = None\n\nclass ItemCreate(ItemBase):\n    \"\"\"Request schema for creating item.\"\"\"\n    pass\n\nclass ItemResponse(ItemBase):\n    \"\"\"Response schema with database fields.\"\"\"\n    id: str\n    created_at: datetime\n    updated_at: datetime\n\n    class Config:\n        from_attributes = True  # ORM mode\n```\n\n## Validation Patterns\n\n```python\n# Field validation\nname: str = Field(..., min_length=1, max_length=100, description=\"Name\")\ncount: int = Field(..., ge=0, le=1000)  # 0-1000 range\nemail: str = Field(..., pattern=r\"^[^@]+@[^@]+\\.[^@]+$\")\n\n# Optional fields\nstatus: Optional[str] = None\ntags: list[str] = Field(default_factory=list)\n\n# Nested models\nmetadata: Optional[Dict[str, Any]] = None\nitems: list[ItemResponse] = []\n```\n\n## Response Models\n\n### List Response\n\n```python\nclass ItemListResponse(BaseModel):\n    items: list[ItemResponse]\n    total: int\n    page_info: Optional[PageInfo] = None\n```\n\n### Error Response\n\n```python\nclass ErrorResponse(BaseModel):\n    error: str\n    detail: str\n    code: Optional[str] = None\n```\n\n---\n\n**Path Scope**: `skillmeat/api/schemas/**/*.py`\n"
    },
    {
      "name": "hooks.md",
      "type": "RULE_FILE",
      "path_pattern": ".claude/rules/web/hooks.md",
      "deploy_order": 6,
      "required": false,
      "content": "# Web Frontend Hooks - Patterns and Best Practices\n\n<!-- Path Scope: skillmeat/web/hooks/**/*.ts -->\n\nCustom React hooks for {{PROJECT_NAME}} web frontend using TanStack Query v5.\n\n## TanStack Query Conventions\n\n### Query Key Factories\n\n```typescript\nexport const resourceKeys = {\n  all: ['resources'] as const,\n  lists: () => [...resourceKeys.all, 'list'] as const,\n  list: (filters?: ResourceFilters) => [...resourceKeys.lists(), filters] as const,\n  details: () => [...resourceKeys.all, 'detail'] as const,\n  detail: (id: string) => [...resourceKeys.details(), id] as const,\n};\n```\n\n### Query Hook Pattern\n\n```typescript\nexport function useResources(filters?: ResourceFilters) {\n  return useQuery({\n    queryKey: resourceKeys.list(filters),\n    queryFn: () => fetchResources(filters),\n  });\n}\n```\n\n### Mutation Hook Pattern\n\n```typescript\nexport function useCreateResource() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateRequest) => createResource(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: resourceKeys.all });\n    },\n  });\n}\n```\n\n## Cache Invalidation\n\n```typescript\n// Invalidate all resources (after create/delete)\nqueryClient.invalidateQueries({ queryKey: resourceKeys.all });\n\n// Invalidate specific resource (after update)\nqueryClient.invalidateQueries({ queryKey: resourceKeys.detail(id) });\n```\n\n## Stub Detection\n\nHooks throwing `ApiError('Not implemented', 501)` are stubs for future implementation.\n\n**Fix Pattern**:\n1. Find API client function in `lib/api/{domain}.ts`\n2. Import and call it instead of throwing\n3. Wire cache invalidation in `onSuccess`\n\n---\n\n**Path Scope**: `skillmeat/web/hooks/**/*.ts`\n"
    },
    {
      "name": "api-client.md",
      "type": "RULE_FILE",
      "path_pattern": ".claude/rules/web/api-client.md",
      "deploy_order": 7,
      "required": false,
      "content": "# Web Frontend API Client - Conventions and Patterns\n\n<!-- Path Scope: skillmeat/web/lib/api/**/*.ts -->\n\nAPI client functions for {{PROJECT_NAME}} web frontend communicating with FastAPI backend.\n\n## Configuration\n\n```typescript\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\nconst API_VERSION = process.env.NEXT_PUBLIC_API_VERSION || 'v1';\n\nfunction buildUrl(path: string): string {\n  return `${API_BASE}/api/${API_VERSION}${path}`;\n}\n```\n\n## Error Handling Pattern\n\n```typescript\nexport async function apiFunction(data: RequestType): Promise<ResponseType> {\n  const response = await fetch(buildUrl('/endpoint'), {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    const errorBody = await response.json().catch(() => ({}));\n    throw new Error(errorBody.detail || `Failed: ${response.statusText}`);\n  }\n\n  return response.json();\n}\n```\n\n## Request Patterns\n\n### GET\n\n```typescript\nexport async function fetchResource(id: string): Promise<Resource> {\n  const response = await fetch(buildUrl(`/resources/${id}`));\n  if (!response.ok) {\n    throw new Error(`Failed to fetch: ${response.statusText}`);\n  }\n  return response.json();\n}\n```\n\n### POST\n\n```typescript\nexport async function createResource(data: CreateRequest): Promise<Resource> {\n  const response = await fetch(buildUrl('/resources'), {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error(`Failed to create: ${response.statusText}`);\n  return response.json();\n}\n```\n\n### DELETE\n\n```typescript\nexport async function deleteResource(id: string): Promise<void> {\n  const response = await fetch(buildUrl(`/resources/${id}`), {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error(`Failed to delete: ${response.statusText}`);\n}\n```\n\n## File Organization\n\n```\nlib/api/\n├── index.ts           # Re-exports all clients\n├── collections.ts     # Collection operations\n├── groups.ts          # Group operations\n└── deployments.ts     # Deployment operations\n```\n\n---\n\n**Path Scope**: `skillmeat/web/lib/api/**/*.ts`\n"
    },
    {
      "name": "backend-api-patterns.md",
      "type": "CONTEXT_FILE",
      "path_pattern": ".claude/context/backend-api-patterns.md",
      "deploy_order": 8,
      "required": false,
      "content": "---\ntitle: Backend API Patterns\npurpose: Reference patterns for FastAPI backend development\nreferences:\n  - skillmeat/api/routers\n  - skillmeat/api/schemas\n  - skillmeat/api/managers\nlast_verified: {{DATE}}\n---\n\n# Backend API Patterns\n\nReference patterns for FastAPI backend development in {{PROJECT_NAME}}.\n\n## Router Patterns\n\n### Standard Endpoint Pattern\n\n```python\n@router.post(\"/resources\", response_model=ResourceResponse, status_code=201)\nasync def create_resource(\n    request: ResourceCreateRequest,\n    manager: ResourceManagerDep,\n) -> ResourceResponse:\n    resource = manager.create(request.model_dump())\n    return ResourceResponse.model_validate(resource)\n```\n\n### Error Handling\n\n```python\ntry:\n    result = manager.operation(data)\n    return result\nexcept ValueError as e:\n    logger.warning(f\"Validation error: {e}\")\n    raise HTTPException(400, detail=str(e))\nexcept Exception as e:\n    logger.exception(f\"Unexpected error: {e}\")\n    raise HTTPException(500, detail=\"Internal server error\")\n```\n\n## Schema Validation\n\n```python\nclass ResourceResponse(BaseModel):\n    id: str\n    name: str = Field(..., min_length=1, max_length=100)\n    status: ResourceStatus\n    created_at: datetime\n    updated_at: datetime\n\n    class Config:\n        from_attributes = True\n```\n\n## Dependency Injection\n\n```python\nfrom typing import Annotated\nfrom fastapi import Depends\n\nResourceManagerDep = Annotated[\n    ResourceManager,\n    Depends(get_resource_manager)\n]\n```\n\n---\n\n**Token Cost**: ~1K (reference only)\n"
    },
    {
      "name": "frontend-patterns.md",
      "type": "CONTEXT_FILE",
      "path_pattern": ".claude/context/frontend-patterns.md",
      "deploy_order": 9,
      "required": false,
      "content": "---\ntitle: Frontend React Patterns\npurpose: Reference patterns for React component and hook development\nreferences:\n  - skillmeat/web/components\n  - skillmeat/web/hooks\n  - skillmeat/web/lib/api\nlast_verified: {{DATE}}\n---\n\n# Frontend React Patterns\n\nReference patterns for React component and hook development in {{PROJECT_NAME}}.\n\n## Component Pattern\n\n```typescript\n'use client';\n\nimport React from 'react';\n\ninterface ComponentProps {\n  id: string;\n  onUpdate?: (data: UpdateData) => void;\n}\n\nexport function Component({ id, onUpdate }: ComponentProps) {\n  const { data, isLoading } = useResource(id);\n\n  if (isLoading) return <Skeleton />;\n\n  return (\n    <div className=\"component\">\n      {/* Content */}\n    </div>\n  );\n}\n```\n\n## Hook Pattern\n\n```typescript\nexport function useResourceAction() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (data: ActionRequest) => {\n      return apiFunction(data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: resourceKeys.all });\n    },\n  });\n}\n```\n\n## API Client Pattern\n\n```typescript\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\n\nexport async function fetchResource(id: string): Promise<Resource> {\n  const response = await fetch(`${API_BASE}/api/v1/resources/${id}`);\n  if (!response.ok) throw new Error('Failed to fetch');\n  return response.json();\n}\n```\n\n---\n\n**Token Cost**: ~1K (reference only)\n"
    }
  ]
}
